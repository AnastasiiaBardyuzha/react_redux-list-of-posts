(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){e.exports=n(32)},,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),s=n.n(c),o=n(2),u=n(1),l=n(4),i=n(13),m={isLoading:!1,isLoaded:!1,hasError:!1,posts:[],searchValue:""};var p=Object(l.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return Object(u.a)({},e,{isLoading:t.isLoading});case"SET_IS_LOADED":return Object(u.a)({},e,{isLoaded:t.isLoaded});case"SET_POSTS":return Object(u.a)({},e,{posts:t.posts});case"SET_SEARCH_VALUE":return Object(u.a)({},e,{searchValue:t.searchValue});case"SET_HAS_ERROR":return Object(u.a)({},e,{hasError:t.hasError});case"DELETE_POST":return Object(u.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"DELETE_COMMENT":return Object(u.a)({},e,{posts:e.posts.map((function(e){return Object(u.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.id}))})}))});default:return e}}),Object(l.a)(i.a)),d=n(3),E=n.n(d),f=n(5),h="https://jsonplaceholder.typicode.com/",b=function(){var e=Object(f.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(E.a.mark((function e(){var t,n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("".concat(h,"users"));case 2:return t=e.sent,e.next=5,b("".concat(h,"posts"));case 5:return n=e.sent,e.next=8,b("".concat(h,"comments"));case 8:return a=e.sent,r=n.map((function(e){return Object(u.a)({},e,{user:t.find((function(t){return e.userId===t.id})),comments:a.filter((function(t){return e.id===t.postId}))})})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return{type:"SET_IS_LOADING",isLoading:e}},v=function(e){return{type:"SET_HAS_ERROR",hasError:e}},O=function(e){return{type:"SET_POSTS",posts:e}},L=(n(26),{changeSearchValue:function(e){return{type:"SET_SEARCH_VALUE",searchValue:e}}}),g=Object(o.b)((function(e){return{searchValue:e.searchValue}}),L)((function(e){var t=e.searchValue,n=e.changeSearchValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"search-query",className:"label"},"Search Post"),r.a.createElement("input",{type:"text",id:"search-query",className:"search_input",placeholder:"Type search word",value:t,onChange:function(e){var t=e.target.value;n(t)}}))})),S=(n(27),function(e){var t=e.user,n=t.name,a=t.email,c=t.address.city;return r.a.createElement("div",{className:"user_info"},r.a.createElement("span",null,"".concat(n," -")),r.a.createElement("span",null,"".concat(a," -")),r.a.createElement("span",null,"".concat(c," -")))}),N=(n(28),{removeComment:function(e){return{type:"DELETE_COMMENT",id:e}}}),T=Object(o.b)(null,N)((function(e){var t=e.comment,n=e.removeComment,a=t.name,c=t.email,s=t.body,o=t.id;return r.a.createElement("li",{className:"\u0441omment"},r.a.createElement("button",{type:"button",className:"delete_button delete_button-comment",onClick:function(){return n(o)}},"Delete"),r.a.createElement("span",{className:"\u0441omment__name"},"".concat(a," (").concat(c,")")),r.a.createElement("p",{className:"\u0441omment__body"},s))})),j=(n(29),function(e){var t=e.comments;return r.a.createElement("ul",{className:"comments"},t.map((function(e){return r.a.createElement(T,{key:e.id,comment:e})})))}),w=(n(7),n(30),{removePost:function(e){return{type:"DELETE_POST",id:e}}}),V=Object(o.b)(null,w)((function(e){var t=e.post,n=e.removePost,a=t.title,c=t.body,s=t.user,o=t.comments,u=t.id;return r.a.createElement("li",{className:"post"},r.a.createElement("h2",{className:"post__title"},a),r.a.createElement("p",{className:"post__body"},c),s&&r.a.createElement(S,{user:s}),o&&r.a.createElement(j,{comments:o}),r.a.createElement("button",{type:"button",className:"delete_button",onClick:function(){return n(u)}},"Delete Post"))})),x=(n(31),{changeAllPosts:function(){return function(){var e=Object(f.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0)),t(v(!1)),e.prev=2,e.next=5,_();case 5:n=e.sent,t(O(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(v(!0));case 12:t(y(!1)),t({type:"SET_IS_LOADED",isLoaded:!0});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}}),A=Object(o.b)((function(e){return{isLoading:e.isLoading,isLoaded:e.isLoaded,hasError:e.hasError,posts:e.posts,searchValue:e.searchValue}}),x)((function(e){var t=e.isLoading,n=e.isLoaded,c=e.hasError,s=e.posts,o=e.searchValue,u=e.changeAllPosts,l=Object(a.useMemo)((function(){return s.filter((function(e){return e.title.toLowerCase().includes(o)||e.body.toLowerCase().includes(o)}))}),[s,o]);return t?r.a.createElement("p",{className:"loading"},"Loading..."):c?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"loading"},"An error has occurred. Please try again later"),r.a.createElement("button",{type:"button",className:"loading_button",onClick:u},"Try again")):r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Dynamic list of posts"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement("ul",{className:"posts_wrapper"},l.map((function(e){return r.a.createElement(V,{key:e.id,post:e})})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"initual_loading"},"Load posts"),r.a.createElement("button",{type:"button",className:"loading_button",onClick:u},"Load")))}));s.a.render(r.a.createElement((function(){return r.a.createElement(o.a,{store:p},r.a.createElement(A,null))}),null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.1d2d0cd8.chunk.js.map